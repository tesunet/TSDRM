{% extends "base1.html" %}

{% block title %}文件系统异机恢复{% endblock %}

{% block content %}
    <section class="scrollable wrapper">
        <!-- .breadcrumb -->
        <ul class="breadcrumb">
            <li><a href="/index"><i class="fa fa-home"></i>首页</a></li>
            <li>灾备操作</li>
            <li class="active">文件系统异机恢复</li>
        </ul>

        <section class="panel panel-default">
            <header class="panel-heading">
                文件系统异机恢复
            </header>
            <div class="row">
                <div class="col-md-12">
                    <div class="portlet light bordered" id="form_wizard_1">

                        <div class="portlet-body form">
                            <form class="bs-example form-horizontal activate-form"
                                  id="submit_form">{% csrf_token %}
                                <div class="form-wizard">
                                    <div class="form-body">
                                        <ul class="nav nav-pills nav-justified steps">
                                            <li id="li1">
                                                <a href="#tab1" data-toggle="tab" class="step">
                                                    <span class="number"> 1 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 选择恢复时间点 </span>
                                                </a>
                                            </li>
                                            <li id="li2">
                                                <a href="#tab2" data-toggle="tab" class="step">
                                                    <span class="number"> 2 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 创建灾备资源 </span>
                                                </a>
                                            </li>
                                            <li id="li3">
                                                <a href="#tab3" data-toggle="tab" class="step">
                                                    <span class="number"> 3 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 选择灾备资源 </span>
                                                </a>
                                            </li>
                                            <li id="li4">
                                                <a href="#tab4" data-toggle="tab" class="step">
                                                    <span class="number"> 4 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 输入参数 </span>
                                                </a>
                                            </li>
                                            <li id="li5">
                                                <a href="#tab5" data-toggle="tab" class="step">
                                                    <span class="number"> 5 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 提交任务 </span>
                                                </a>
                                            </li>
                                            <li id="li6">
                                                <a href="#tab6" data-toggle="tab" class="step">
                                                    <span class="number"> 6 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 启用灾备环境 </span>
                                                </a>
                                            </li>
                                            <li id="li7">
                                                <a href="#tab7" data-toggle="tab" class="step">
                                                    <span class="number"> 7 </span>
                                                    <span class="desc">
                                                        <i class="fa fa-check"></i> 业务验证确认 </span>
                                                </a>
                                            </li>
                                        </ul>
                                        <div id="bar" class="progress progress-striped" role="progressbar">
                                            <div class="progress-bar progress-bar-success"></div>
                                        </div>
                                        <div class="tab-content">
                                            <div class="tab-pane" id="tab1">
                                                <div id="divtable">
                                                    <table class="table table-striped table-bordered table-hover table-checkable order-column"
                                                           id="sample_1">
                                                        <thead>
                                                        <tr>
                                                            <th> 任务ID</th>
                                                            <th> 任务类型</th>
                                                            <th> 备份类型</th>
                                                            <th> 开始时间</th>
                                                            <th> 更新时间</th>
                                                            <th style="width:20px;"> 操作</th>
                                                        </tr>
                                                        </thead>

                                                        <tbody>

                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">源客户端</label>
                                                    <div class="col-md-10">
                                                        <input hidden id="taskid" type="text" name="taskid"
                                                               value="{{ taskid }}">
                                                        <input hidden id="processrunid" type="text" name="processrunid"
                                                               value="{{ processrunid }}">
                                                        <input hidden id="steprunid" type="text" name="steprunid"
                                                               value="{{ steprunid }}">
                                                        <input hidden id="datasetid" type="text" name="datasetid"
                                                               value="{{ datasetid }}">
                                                        <input hidden id="instanceName" type="text" name="instanceName"
                                                               value="{{ instanceName }}">
                                                        <input hidden id="clientID" type="text" name="clientID"
                                                               value="{{ clientID }}">

                                                        <input hidden id="steprunid1" type="text" name="steprunid1"
                                                               value="{{ stepinfo.step1.id }}">
                                                        <input hidden id="steprunstate1" type="text"
                                                               name="steprunstate1" value="{{ stepinfo.step1.state }}">

                                                        <input readonly id="sourceClient" autocomplete="off" type="text"
                                                               name="sourceClient" class="form-control"
                                                               value="{{ clientName }}">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group  ">
                                                    <label class="col-md-2 control-label">恢复时间点</label>
                                                    <div class="col-md-10">
                                                        <div class="input-group">
                                                            <span class="input-group-addon">
                                                                <input id="radio1" type="radio" name="optionsRadios"
                                                                       value="1" checked> 最新时间点
                                                                <input id="radio2" type="radio" name="optionsRadios"
                                                                       value="2">选择时间
                                                            </span>
                                                            <input id="datetimepicker" autocomplete="off"
                                                                   type="datetime" name="optionsRadios"
                                                                   class="form-control"
                                                                   value="{{ stepinfo.step1.restoreTime }}">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">脚本</label>
                                                    <div class="col-md-10">
                                                        <select id="se_1" size="7" class="form-control"
                                                                style="overflow-y:auto;">
                                                            {% for script in stepinfo.step1.scripts %}
                                                                <option {% ifequal script.state 'DONE' %}style="color:#26C281" {% endifequal %}{% ifequal script.state 'RUN' %}style="color:#32c5d2" {% endifequal %}{% ifequal script.state 'IGNORE' %}style="color:#ffd966" {% endifequal %}{% ifequal script.state 'ERROR' %}style="color:#ff0000" {% endifequal %}
                                                                        value="{{ script.id }}">
                                                                    {{ script.script.code }}</option>
                                                            {% endfor %}

                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane" id="tab2">
                                                <input hidden id="steprunid2" type="text" name="steprunid2"
                                                       value="{{ stepinfo.step2.id }}">
                                                <input hidden id="steprunstate2" type="text" name="steprunstate2"
                                                       value="{{ stepinfo.step2.state }}">

                                                <div class="form-body">
                                                    <div class="form-group ">
                                                        <label class="col-md-2 control-label">虚机模板</label>
                                                        <div class="col-md-10">
                                                            <div id="templatediv" class="input-group">
                                                                <div class="input-group-control">
                                                                    <input id="template_id" hidden type="text"
                                                                           name="template_id">
                                                                    <input id="template_name" readonly type="text"
                                                                           name="template_name"
                                                                           class="form-control ">
                                                                    <div class="form-control-focus"></div>
                                                                </div>
                                                                <span class="input-group-btn btn-right">
                                                                        <button type="button" id="bt_select"
                                                                                class="btn green"
                                                                                tabindex="-1"
                                                                                data-toggle="modal"
                                                                                data-target="#static1">选择</button>
                                                                    </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group ">
                                                        <input id="id" hidden type="text" name="id"
                                                               value="{{ stepinfo.step2.clonevmid }}">
                                                        <input id="clone_tag" hidden type="text" name="clone_tag">
                                                        <input type="text" value="" name="poolid" id="poolid" hidden>
                                                        <input id="uuid" name="uuid" type="hidden">
                                                    </div>
                                                    <div class="form-group ">
                                                        <label class="col-md-2 control-label">CPU</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="cpu" id="cpu_" readonly>
                                                        </div>

                                                        <label class="col-md-2 control-label">内存(MB)</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="memory" id="memory_" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="form-group ">
                                                        <label class="col-md-2 control-label">磁盘空间(GB)</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="disk" id="disk_" readonly>
                                                            <div class="form-control-focus"></div>
                                                        </div>

                                                        <label class="col-md-2 control-label">模板虚机名称</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="name" id="name" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="form-group ">
                                                        <label class="col-md-2 control-label">数据中心</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="datacenter" id="datacenter" readonly>
                                                        </div>

                                                        <label class="col-md-2 control-label">集群</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="cluster" id="cluster" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-2 control-label">实例名称</label>
                                                        <div class="col-md-4">
                                                            <input id="instancename" autocomplete="off" type="text"
                                                                   name="instancename"
                                                                   class="form-control" value="">
                                                            <div class="form-control-focus"></div>

                                                        </div>
                                                        <label class="col-md-2 control-label">新虚机名称</label>
                                                        <div class="col-md-4">
                                                            <input id="currentvm" autocomplete="off" type="text"
                                                                   name="currentvm"
                                                                   class="form-control" value="">
                                                            <div class="form-control-focus"></div>

                                                        </div>
                                                    </div>
                                                    <div class="form-group ">
                                                        <label class="col-md-2 control-label">IP</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="ip" id="ip" readonly>
                                                            <div class="form-control-focus"></div>
                                                        </div>

                                                        <label class="col-md-2 control-label">主机名</label>
                                                        <div class="col-md-4">
                                                            <input type="text" autocomplete="off" class="form-control"
                                                                   value=""
                                                                   name="hostname" id="hostname" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-2 control-label">系统</label>
                                                        <div class="col-md-10">
                                                            <input id="system" autocomplete="off" type="text"
                                                                   name="system"
                                                                   readonly
                                                                   class="form-control">
                                                            <div class="form-control-focus"></div>

                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-2 control-label">说明</label>
                                                        <div class="col-md-10">
                                                            <input id="description" autocomplete="off" type="text"
                                                                   name="description"
                                                                   class="form-control">
                                                            <div class="form-control-focus"></div>

                                                        </div>
                                                    </div>

                                                    <div class=form-group">
                                                        <div id="div1">
                                                            <button type="button" id="clone" name="clone"
                                                                    class="btn btn-primary center-block btn-lg">克隆
                                                            </button>
                                                        </div>
                                                        <div id="div2">
                                                            <div class="progress">
                                                                <div id="progress" class="progress-bar"
                                                                     role="progressbar"
                                                                     aria-valuenow="60"
                                                                     aria-valuemin="0" aria-valuemax="100"
                                                                     style="width: 0%;">
                                                                    <span>克隆中 </span>
                                                                </div>
                                                            </div>
                                                            <div>
                                                                <button type="button" id="refresh" name="refresh"
                                                                        class="btn btn-primary center-block btn-lg">刷新
                                                                </button>
                                                            </div>

                                                        </div>
                                                        <div id="div3" align="center">
                                                            <button type="button" id="bt_ip" class="btn green"
                                                                    tabindex="-1"
                                                                    data-toggle="modal"
                                                                    data-target="#static2">修改IP
                                                            </button>
                                                            <button type="button" id="bt_hostname" class="btn green"
                                                                    tabindex="-1" data-toggle="modal"
                                                                    data-target="#static3">修改主机名
                                                            </button>
                                                            <button type="button" id="bt_installcv" class="btn green"
                                                                    tabindex="-1" data-toggle="modal"
                                                                    data-target="#static4">安装客户端
                                                            </button>
                                                            <button type="button" id="bt_registercv"
                                                                    name="bt_registercv"
                                                                    class="btn green">注册客户端
                                                            </button>
                                                            <button type="button" id="bt_adddisk" class="btn green"
                                                                    tabindex="-1" data-toggle="modal"
                                                                    data-target="#static6">新增磁盘
                                                            </button>
                                                            <hr>
                                                            <div id="onstate">
                                                                <button type="button" id="bt_shutdown"
                                                                        class="btn btn-primary btn-lg">关机
                                                                </button>
                                                                <button type="button" id="bt_reboot"
                                                                        class="btn btn-primary btn-lg">重启
                                                                </button>
                                                            </div>

                                                            <div id="offstate">
                                                                <button type="button" id="bt_startup"
                                                                        class="btn btn-primary center-block btn-lg">启动
                                                                </button>
                                                            </div>


                                                        </div>
                                                    </div>
                                                    <div class="form-group " style="padding-top: 15px">
                                                        <label class="col-md-2 control-label">脚本</label>
                                                        <div class="col-md-10">
                                                            <select id="se_2" size="7" class="form-control"
                                                                    style="overflow-y:auto;">
                                                                {% for script in stepinfo.step2.scripts %}
                                                                    <option {% ifequal script.state 'DONE' %}style="color:#26C281" {% endifequal %}{% ifequal script.state 'RUN' %}style="color:#32c5d2" {% endifequal %}{% ifequal script.state 'IGNORE' %}style="color:#ffd966" {% endifequal %}{% ifequal script.state 'ERROR' %}style="color:#ff0000" {% endifequal %}
                                                                            value="{{ script.id }}">{{ script.script.code }} </option>
                                                                {% endfor %}

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>


                                            </div>
                                            <div class="tab-pane" id="tab3">
                                                <input hidden id="steprunid3" type="text" name="steprunid3"
                                                       value="{{ stepinfo.step3.id }}">
                                                <input hidden id="steprunstate3" type="text" name="steprunstate3"
                                                       value="{{ stepinfo.step3.state }}">
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">目标客户端</label>
                                                    <div class="col-md-10">
                                                        <input hidden id="destClientvalue" type="text"
                                                               name="destClientvalue"
                                                               value="{{ stepinfo.step3.destClient }}">
                                                        <select class="form-control" id="destClient" name="destClient"
                                                                value="{{ stepinfo.step3.destClient }}>
                                                            {% for host in destClient %}
                                                                    <option selected value="{{ host }}">{{ host }}
                                                                    </option>
                                                                {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">脚本</label>
                                                    <div class="col-md-10">
                                                        <select id="se_3" size="7" class="form-control"
                                                                style="overflow-y:auto;">
                                                            {% for script in stepinfo.step3.scripts %}
                                                                <option {% ifequal script.state 'DONE' %}style="color:#26C281" {% endifequal %}{% ifequal script.state 'RUN' %}style="color:#32c5d2" {% endifequal %}{% ifequal script.state 'IGNORE' %}style="color:#ffd966" {% endifequal %}{% ifequal script.state 'ERROR' %}style="color:#ff0000" {% endifequal %}
                                                                        value="{{ script.id }}">{{ script.script.code }}</option>
                                                            {% endfor %}

                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane" id="tab4">
                                                <input hidden id="steprunid4" type="text" name="steprunid3"
                                                       value="{{ stepinfo.step4.id }}">
                                                <input hidden id="steprunstate4" type="text" name="steprunstate3"
                                                       value="{{ stepinfo.step4.state }}">
                                                <input hidden id="overwritevalue" type="text" name="overwritevalue"
                                                       value="{{ stepinfo.step4.iscover }}">
                                                <input hidden id="pathvalue" type="text" name="pathvalue"
                                                       value="{{ stepinfo.step4.mypath }}">
                                                <input hidden id="fs_se_1value" type="text" name="fs_se_1value"
                                                       value="{{ stepinfo.step4.selectedfile }}">
                                                <div class="form-group   ">
                                                    <label class="col-md-2 control-label">文件改写</label>
                                                    <div class="col-md-10" style="padding-top:6px">
                                                        <div class="input-group">
                                                        <span>
                                                            <input id="radio3" type="radio" name="overwrite"
                                                                   value="FALSE" checked> 如果介质上文件较新则改写
                                                            <input id="radio4" type="radio" name="overwrite"
                                                                   value="TRUE">无条件改写
                                                        </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group  ">
                                                    <label class="col-md-2 control-label">恢复到</label>
                                                    <div class="col-md-10">
                                                        <div class="input-group">
                                                        <span class="input-group-addon">
                                                            <input id="radio5" type="radio" name="path" value="1"
                                                                   checked> 相同文件夹
                                                            <input id="radio6" type="radio" name="path" value="2">指定路径
                                                        </span>
                                                            <input id="mypath" autocomplete="off" type="path"
                                                                   name="path" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group  " style="padding-top:20px">
                                                    <label class="col-md-2 control-label">恢复目录</label>
                                                    <div class="col-md-10">
                                                        <select multiple="multiple" id="fs_se_1" size="10"
                                                                class="form-control" style="overflow-y:auto;">
                                                            <option value='\'>\</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="row" style="TEXT-ALIGN: center;">
                                                        <div class="col-md-12">
                                                            <button type="button" data-toggle="modal"
                                                                    data-target="#static7" id="selectfile"
                                                                    name="selectfile" class="btn green uppercase">选择目录
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">脚本</label>
                                                    <div class="col-md-10">
                                                        <select id="se_4" size="7" class="form-control"
                                                                style="overflow-y:auto;">
                                                            {% for script in stepinfo.step4.scripts %}
                                                                <option {% ifequal script.state 'DONE' %}style="color:#26C281" {% endifequal %}{% ifequal script.state 'RUN' %}style="color:#32c5d2" {% endifequal %}{% ifequal script.state 'IGNORE' %}style="color:#ffd966" {% endifequal %}{% ifequal script.state 'ERROR' %}style="color:#ff0000" {% endifequal %}
                                                                        value="{{ script.id }}">{{ script.script.code }}</option>
                                                            {% endfor %}

                                                        </select>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane" id="tab5">
                                                <input hidden id="steprunid5" type="text" name="steprunid5"
                                                       value="{{ stepinfo.step5.id }}">
                                                <input hidden id="steprunstate5" type="text" name="steprunstate5"
                                                       value="{{ stepinfo.step5.state }}">
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">源客户端</label>
                                                    <div class="col-md-10">
                                                        <input readonly id="sourceClient_check" autocomplete="off"
                                                               type="text" name="sourceClient_check"
                                                               class="form-control" value="{{ clientName }}">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">目标客户端</label>
                                                    <div class="col-md-10">
                                                        <select disabled class="form-control" id="destClient_check"
                                                                name="destClient_check">
                                                            {% for host in destClient %}
                                                                <option selected value="{{ host }}">{{ host }} </option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group  ">
                                                    <label class="col-md-2 control-label">恢复时间点</label>
                                                    <div class="col-md-10">
                                                        <div class="input-group">
                                                        <span class="input-group-addon">
                                                            <input id="radio1_check" disabled type="radio"
                                                                   name="optionsRadios1" value="1" checked> 最新时间点
                                                            <input id="radio2_check" disabled type="radio"
                                                                   name="optionsRadios1" value="2">选择时间
                                                        </span>
                                                            <input readonly id="datetimepicker_check" autocomplete="off"
                                                                   type="datetime" name="optionsRadios"
                                                                   class="form-control"
                                                                   value="{{ stepinfo.step1.restoreTime }}">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group   ">
                                                    <label class="col-md-2 control-label">文件改写</label>
                                                    <div class="col-md-10" style="padding-top:6px">
                                                        <div class="input-group">
                                                            <span>
                                                                <input disabled type="radio" name="overwrite1"
                                                                       value="FALSE" checked> 如果介质上文件较新则改写
                                                                <input disabled type="radio" name="overwrite1"
                                                                       value="TRUE">无条件改写
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group  ">
                                                    <label class="col-md-2 control-label">恢复到</label>
                                                    <div class="col-md-10">
                                                        <div class="input-group">
                                                        <span class="input-group-addon">
                                                            <input disabled type="radio" name="path1" value="1" checked> 相同文件夹
                                                            <input disabled type="radio" name="path1" value="2">指定路径
                                                        </span>
                                                            <input readonly id="mypath_check" autocomplete="off"
                                                                   type="path" name="path" class="form-control">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group  " style="padding-top:20px">
                                                    <label class="col-md-2 control-label">恢复目录</label>
                                                    <div class="col-md-10">
                                                        <select disabled multiple="multiple" id="fs_se_1_check"
                                                                size="10" class="form-control" style="overflow-y:auto;">
                                                            <option value='\'>\</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane" id="tab6">
                                                <input hidden id="steprunid6" type="text" name="steprunid7"
                                                       value="{{ stepinfo.step6.id }}">
                                                <input hidden id="steprunstate6" type="text" name="steprunstate7"
                                                       value="{{ stepinfo.step6.state }}">
                                                <input hidden id="checkservicevalue" type="text"
                                                       name="checkservicevalue"
                                                       value="{{ stepinfo.step6.checkservice }}">
                                                <div class="form-group  " style="padding-top:20px">
                                                    <label class="col-md-2 control-label">服务已启动</label>
                                                    <div class="col-md-10" style="padding-top:4px">
                                                        <div class="input-group">
                                                            <span>
                                                                <input id="checkservice" readonly type="checkbox"
                                                                       name="checkservice" style="zoom:150%;">
                                                            </span>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">脚本</label>
                                                    <div class="col-md-10">
                                                        <select id="se_6" size="7" class="form-control"
                                                                style="overflow-y:auto;">
                                                            {% for script in stepinfo.step6.scripts %}
                                                                <option {% ifequal script.state 'DONE' %}style="color:#26C281" {% endifequal %}{% ifequal script.state 'RUN' %}style="color:#32c5d2" {% endifequal %}{% ifequal script.state 'IGNORE' %}style="color:#ffd966" {% endifequal %}{% ifequal script.state 'ERROR' %}style="color:#ff0000" {% endifequal %}
                                                                        value="{{ script.id }}">{{ script.script.code }}</option>
                                                            {% endfor %}

                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane" id="tab7">
                                                <input hidden id="steprunid7" type="text" name="steprunid7"
                                                       value="{{ stepinfo.step7.id }}">
                                                <input hidden id="steprunstate7" type="text" name="steprunstate7"
                                                       value="{{ stepinfo.step7.state }}">
                                                <input hidden id="checkappvalue" type="text" name="checkappvalue"
                                                       value="{{ stepinfo.step7.checkapp }}">
                                                <div class="form-group  " style="padding-top:20px">
                                                    <label class="col-md-2 control-label">业务已检查</label>
                                                    <div class="col-md-10" style="padding-top:4px">
                                                        <div class="input-group">
                                                            <span>
                                                                <input id="checkapp" readonly type="checkbox"
                                                                       name="checkapp" style="zoom:150%;">
                                                            </span>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-actions">
                                        <div class="row">
                                            <div class="col-md-offset-3 col-md-9">
                                                <a href="javascript:;" class="btn default button-previous">
                                                    <i class="fa fa-angle-left"></i> 上一步 </a>
                                                <a href="javascript:;" class="btn btn-outline green button-next"> 下一步
                                                    <i class="fa fa-angle-right"></i>
                                                </a>
                                                <a href="javascript:;" class="btn green button-submit"> 完成
                                                    <i class="fa fa-check"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div id="static1" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                            <div class="modal-dialog" style="width:800px;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                    </div>
                                    <div class="modal-body">
                                        <table class="table table-striped table-bordered table-hover table-checkable order-column"
                                               id="sample_2">
                                            <thead>
                                            <tr>
                                                <th style="width:40px;"> 序号</th>
                                                <th> 模板名称</th>
                                                <th> 虚机名称</th>
                                                <th> 说明</th>
                                                <th style="width:55px;"> 操作</th>
                                            </tr>
                                            </thead>

                                            <tbody>

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="static2" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                            <div class="modal-dialog">


                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">修改IP</h4>
                                    </div>
                                    <div class="modal-body" style="margin-bottom:40px">
                                        <form class="bs-example form-horizontal activate-form">
                                            <div class="form-body">
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">脚本路径</label>
                                                    <div class="col-md-10">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value="E:\ip.bat"
                                                               name="ip_path" id="ip_path">
                                                    </div>

                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">IP</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="ip_ip" id="ip_ip">
                                                    </div>

                                                    <label class="col-md-2 control-label">子网掩码</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="ip_mask" id="ip_mask">
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">网关</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="ip_gateway" id="ip_gateway">
                                                        <div class="form-control-focus"></div>
                                                    </div>

                                                    <label class="col-md-2 control-label">DNS</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="ip_dns" id="ip_dns">
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">用户名</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="ip_user" id="ip_user">
                                                    </div>

                                                    <label class="col-md-2 control-label">密码</label>
                                                    <div class="col-md-4">
                                                        <input type="password" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="ip_password" id="ip_password">
                                                    </div>
                                                </div>

                                                <div>
                                                    <button type="button" id="ipsave" name="clone"
                                                            class="btn btn-primary center-block btn-lg">确定
                                                    </button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="static3" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">修改主机名</h4>
                                    </div>
                                    <div class="modal-body" style="margin-bottom:40px">
                                        <form class="bs-example form-horizontal activate-form">
                                            <div class="form-body">

                                                <div class="form-group ">

                                                    <label class="col-md-2 control-label">脚本路径</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value="E:\hostname.bat" name="host_path" id="host_path">
                                                    </div>
                                                    <label class="col-md-2 control-label">主机名</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="host_name" id="host_name">
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">用户名</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="host_user" id="host_user">
                                                    </div>

                                                    <label class="col-md-2 control-label">密码</label>
                                                    <div class="col-md-4">
                                                        <input type="password" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="host_password" id="host_password">
                                                    </div>
                                                </div>

                                                <div>
                                                    <button type="button" id="hostsave" name="clone"
                                                            class="btn btn-primary center-block btn-lg">确定
                                                    </button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="static4" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                            <div class="modal-dialog">


                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">安装commvault客户端</h4>
                                    </div>
                                    <div class="modal-body" style="margin-bottom:40px">
                                        <form class="bs-example form-horizontal activate-form">
                                            <div class="form-body">

                                                <div class="form-group ">

                                                    <label class="col-md-2 control-label">脚本路径</label>
                                                    <div class="col-md-8">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value="E:\installcv.bat" name="installcv_path"
                                                               id="installcv_path">
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">用户名</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="installcv_user" id="installcv_user">
                                                    </div>

                                                    <label class="col-md-2 control-label">密码</label>
                                                    <div class="col-md-4">
                                                        <input type="password" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="installcv_password" id="installcv_password">
                                                    </div>
                                                </div>

                                                <div>
                                                    <button type="button" id="installcvsave" name="installcvsave"
                                                            class="btn btn-primary center-block btn-lg">确定
                                                    </button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="static6" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                            <div class="modal-dialog">


                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">新增磁盘</h4>
                                    </div>
                                    <div class="modal-body" style="margin-bottom:40px">
                                        <form class="bs-example form-horizontal activate-form">
                                            <div class="form-body">

                                                <div class="form-group ">

                                                    <label class="col-md-2 control-label">容量(GB)</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="disksize" id="disksize">
                                                    </div>
                                                    <label class="col-md-2 control-label">磁盘类型</label>
                                                    <div class="col-md-4">
                                                        <select class="form-control" id="disktype" name="disktype"
                                                                form="formactivate">
                                                            <option value='thick'>thick</option>
                                                            <option value='thin'>thin</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">脚本路径</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value="E:\initializeDisk.bat"
                                                               name="disk_path" id="disk_path">
                                                    </div>
                                                    <label class="col-md-2 control-label">所选磁盘</label>
                                                    <div class="col-md-4">
                                                        <select class="form-control" id="selectdisk" name="selectdisk"
                                                                form="formactivate">
                                                            <option value='F'>F盘</option>
                                                            <option value='G'>G盘</option>
                                                            <option value='H'>H盘</option>
                                                            <option value='I'>I盘</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group ">
                                                    <label class="col-md-2 control-label">用户名</label>
                                                    <div class="col-md-4">
                                                        <input type="text" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="disk_user" id="disk_user">
                                                    </div>

                                                    <label class="col-md-2 control-label">密码</label>
                                                    <div class="col-md-4">
                                                        <input type="password" autocomplete="off" class="form-control"
                                                               value=""
                                                               name="disk_password" id="disk_password">
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button type="button" id="disksave" name="clone"
                                                        class="btn btn-primary center-block btn-lg">确定
                                                </button>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="static7" class="modal fade" tabindex="-1" data-backdrop="static"
                             data-keyboard="false">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">选择目录</h4>
                                    </div>
                                    <div style="height:400px;overflow:auto; ">
                                        <div>
                                            <ul id="treeDemo" class="ztree "></ul>
                                        </div>

                                        <p>
                                        <p>
                                        <p>
                                    </div>
                                    <div class="modal-footer">
                                        <button id="selectpath" type="button" data-dismiss="modal"
                                                class="btn green uppercase">确定
                                        </button>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="static" class="modal fade" tabindex="-1" data-backdrop="static"
                             data-keyboard="false">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true"></button>
                                        <h4 class="modal-title">脚本信息</h4>
                                        <input hidden id="id" type="text" name="id">
                                        <input hidden id="script_button" type="text" name="script_button">
                                    </div>
                                    <div class="panel-body">

                                        <form class="bs-example form-horizontal activate-form">{% csrf_token %}

                                            <div class="form-body">
                                                <div class="form-group">
                                                    <label class="col-md-2 control-label"><span
                                                            style="color:red; "></span>脚本编号</label>
                                                    <div class="col-md-10">
                                                        <input id="code" type="text" name="code"
                                                               class="form-control "
                                                               placeholder="" readonly>
                                                        <div class="form-control-focus"></div>

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-2 control-label"><span
                                                            style="color:red; "></span>主机IP</label>
                                                    <div class="col-md-10">
                                                        <input id="script_ip" type="text" name="script_ip"
                                                               class="form-control"
                                                               placeholder="" readonly>
                                                        <div class="form-control-focus"></div>

                                                    </div>

                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-2 control-label"><span
                                                            style="color:red; "></span>脚本名</label>
                                                    <div class="col-md-10">
                                                        <input id="filename" type="text" name="filename"
                                                               class="form-control"
                                                               placeholder="" readonly>
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-2 control-label"><span
                                                            style="color:red; "></span>脚本路径</label>
                                                    <div class="col-md-10">
                                                        <input id="scriptpath" type="text" name="scriptpath"
                                                               class="form-control"
                                                               placeholder="" readonly>
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-2 control-label"><span
                                                            style="color:red; "></span>脚本状态</label>
                                                    <div class="col-md-10">
                                                        <input id="scriptstate" type="text" name="scriptstate"
                                                               class="form-control"
                                                               placeholder="" readonly>
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-2 control-label"><span
                                                            style="color:red; "></span>开始时间</label>
                                                    <div class="col-md-2">
                                                        <input id="ontime" type="text" name="ontime"
                                                               class="form-control"
                                                               placeholder="" readonly style="width:180px;">
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                    <label class="col-md-4 control-label"><span
                                                            style="color:red; "></span>结束时间</label>
                                                    <div class="col-md-4">
                                                        <input id="offtime" type="text" name="offtime"
                                                               class="form-control"
                                                               placeholder="" value="" readonly>
                                                        <div class="form-control-focus"></div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label"><span
                                                        style="color:red; "></span>脚本信息</label>
                                                <div class="col-md-10">
                                                    <textarea name="errorinfo" id="errorinfo" cols="50" rows="10"
                                                              style="resize:none;" autocomplete="off"
                                                              class="form-control" readonly></textarea>
                                                    <div class="form-control-focus"></div>
                                                </div>
                                            </div>
                                            <div class="form-actions ">
                                                <div class="modal-footer" id="b1" hidden>
                                                    <button type="button" data-dismiss="modal" id="exec"
                                                            name="exec"
                                                            class="btn green" hidden>执行
                                                    </button>
                                                    <button type="button" id="ignore" name="ignore"
                                                            class="btn green"
                                                            hidden>跳过
                                                    </button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>


        </section>


    </section>
{% endblock %}

{% block script %}
    <script>
        $.ajaxSetup({
            data: {csrfmiddlewaretoken: '{{ csrf_token }}'},
        });

    </script>
    <link href="/static/assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet"
          type="text/css"/>
    <link href="/static/assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css"
          rel="stylesheet" type="text/css"/>
    <link href="/static/assets/global/plugins/jstree/dist/themes/default/style.min.css" rel="stylesheet"
          type="text/css"/>
    <link href="/static/assets/global/plugins/ztree/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" type="text/css"/>

    <script src="/static/assets/global/plugins/datatables/datatables.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
    {#        <script src="/static/assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>#}
    <script src="/static/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jstree/dist/jstree.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/ztree/js/jquery.ztree.core.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/ztree/js/jquery.ztree.excheck.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/select2/js/select2.full.min.js" type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jquery-validation/js/jquery.validate.min.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/jquery-validation/js/additional-methods.min.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/bootstrap-wizard/jquery.bootstrap.wizard.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"
            type="text/javascript"></script>
    <script src="/static/assets/global/scripts/app.min.js" type="text/javascript"></script>







    <script src="/static/myjs/filecross.js" type="text/javascript"></script>


{% endblock %}



